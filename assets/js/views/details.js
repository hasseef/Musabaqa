
import { comps } from '../data.js'; import { fmtDate, pct } from '../utils.js';
export default function Details([id]){ const c=comps().find(x=>x.id===id); if(!c) throw new Error('Ø§Ù„Ù…Ø³Ø§Ø¨Ù‚Ø© ØºÙŠØ± Ù…ÙˆØ¬ÙˆØ¯Ø©');
  const rubric=c.rubric.map(r=>`<li>${r.k} â€” ${(r.w*100).toFixed(0)}%</li>`).join('');
  const funding = c.needsSponsorship? `<div class='card'><h3>Ø­Ø§Ù„Ø© Ø§Ù„ØªÙ…ÙˆÙŠÙ„</h3><p>Ù…Ø·Ù„ÙˆØ¨: <b>${c.funding?.required||0}</b> â€¢ Ù…ÙØ¬Ù…Ù‘Ø¹: <b>${c.funding?.collected||0}</b> â€¢ Ù…ØªØ¨Ù‚ÙŠ: <b>${Math.max(0,(c.funding?.required||0)-(c.funding?.collected||0))}</b></p><div class='progress'><span style='width:${pct(c.funding?.collected||0,c.funding?.required||0)}%'></span></div><div class='row' style='margin-top:8px'><a class='btn' href='#/sponsor-market'>Ø±Ø¹Ø§ÙŠØ© Ù‡Ø°Ù‡ Ø§Ù„Ù…Ø³Ø§Ø¨Ù‚Ø©</a></div></div>`:'';
  return `<section class="grid"><div class="card"><h2>${c.title} ${c.featured?'<span class="badge badge--featured">Ù…Ø³Ø§Ø¨Ù‚Ø© ÙˆØ·Ù†ÙŠØ©</span>':''}</h2><p class="muted">${c.org} â€¢ ${c.category}</p><p>${c.brief}</p><p><strong>Ø¢Ø®Ø± Ù…ÙˆØ¹Ø¯:</strong> ${fmtDate(c.deadline)}</p><p class="muted">${c.requiresCode?'ğŸ” Ù‚Ø¯ ÙŠØªØ·Ù„Ø¨ Ø±Ù…Ø²Ù‹Ø§ Ù„ÙØªØ­ Ø§Ù„Ø£Ø³Ø¦Ù„Ø©.':''}</p><a class="btn" href="#/submit/${c.id}">Ù‚Ø¯Ù‘Ù… Ù…Ø´Ø§Ø±ÙƒØªÙƒ</a></div><div class="card"><h3>Ù…Ø¹Ø§ÙŠÙŠØ± Ø§Ù„ØªØ­ÙƒÙŠÙ…</h3><ul>${rubric}</ul></div>${funding}${c.videoUrl?`<div class='card'><h3>Ù…Ù‚Ø·Ø¹ ØªØ¹Ø±ÙŠÙÙŠ</h3><video controls playsinline style='width:100%;border-radius:12px'><source src='${c.videoUrl}'></video></div>`:''}${c.stickers?.length?`<div class='card'><h3>Ù…Ù„ØµÙ‚Ø§Øª</h3><div class='row'>${c.stickers.map(s=>`<span class='badge'>${s}</span>`).join('')}</div></div>`:''}</section>`; }
