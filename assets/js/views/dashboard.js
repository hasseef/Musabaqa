import { getAuth } from '../auth.js'; import { submissions, comps } from '../data.js'; import { fmtDate } from '../utils.js'; export default function Dashboard(){ const u=getAuth(); if(!u) return `<div class="card"><p>ÙØ¶Ù„Ø§Ù‹ Ø³Ø¬Ù‘Ù„ Ø§Ù„Ø¯Ø®ÙˆÙ„ Ù„Ù„ÙˆØµÙˆÙ„ Ø¥Ù„Ù‰ Ù„ÙˆØ­ØªÙƒ.</p></div>`; const mine=submissions().filter(s=>s.author===u.email); const rows=mine.map(m=>{const c=comps().find(x=>x.id===m.compId); return `<tr><td>${c?.title??'-'}</td><td>${m.title}</td><td>${fmtDate(m.at)}</td><td>${m.winner?'ğŸ… ÙØ§Ø¦Ø²':''}</td></tr>`;}).join('')||`<tr><td colspan="4" class="muted">Ù„Ø§ ØªÙˆØ¬Ø¯ Ù…Ø´Ø§Ø±ÙƒØ§Øª Ø¨Ø¹Ø¯.</td></tr>`; return `<section class="grid"><div class="card"><h2>Ù„ÙˆØ­Ø© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…</h2><table class="table"><thead><tr><th>Ø§Ù„Ù…Ø³Ø§Ø¨Ù‚Ø©</th><th>Ø§Ù„Ø¹Ù†ÙˆØ§Ù†</th><th>Ø§Ù„ØªØ§Ø±ÙŠØ®</th><th>Ø§Ù„Ø­Ø§Ù„Ø©</th></tr></thead><tbody>${rows}</tbody></table></div></section>`; }