<!DOCTYPE html>
<html lang="ar" dir="rtl">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Ù…Ø³Ø§Ø¨Ù‚Ø© â€“ Ù†Ù…ÙˆØ°Ø¬ ØªÙØ§Ø¹Ù„ÙŠ</title>
    <script crossorigin src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <style>
      body{margin:0; font-family: system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, 'Noto Sans Arabic', 'Noto Naskh Arabic', 'Segoe UI Emoji', 'Apple Color Emoji', 'Segoe UI Symbol', sans-serif; background: linear-gradient(to bottom, #eef2ff, #fff); color:#111827;}
      .container{max-width:1100px; margin:0 auto; padding: 24px;}
      .nav{position:sticky; top:0; background:rgba(255,255,255,.8); backdrop-filter: blur(6px); border-bottom:1px solid #e5e7eb;}
      .nav-inner{display:flex; align-items:center; justify-content:space-between; gap:12px; padding:12px 16px; max-width:1200px; margin:0 auto;}
      .brand{display:flex; align-items:center; gap:8px; font-weight:700;}
      .brand-badge{width:28px; height:28px; border-radius:12px; background:#4f46e5;}
      .btn{padding:8px 16px; border-radius:12px; background:#4f46e5; color:#fff; font-size:14px; border:none; cursor:pointer;}
      .btn:hover{background:#4338ca;}
      .btn-outline{padding:8px 16px; border-radius:12px; border:1px solid #4f46e5; color:#4338ca; font-size:14px; background:#fff; cursor:pointer;}
      .btn-ghost{padding:8px 12px; border-radius:12px; color:#4338ca; font-size:14px; border:none; background:transparent; cursor:pointer;}
      .tab{padding:6px 12px; border-radius:10px; font-size:14px; color:#374151; border:none; background:transparent; cursor:pointer;}
      .tab-active{background:#111827; color:#fff;}
      .card{background:#fff; border:1px solid #e5e7eb; border-radius:16px; padding:16px;}
      .pill{display:inline-block; padding:4px 8px; border-radius:999px; background:#eef2ff; color:#4338ca; border:1px solid #c7d2fe; font-size:12px;}
      .input{width:100%; padding:8px 12px; border:1px solid #e5e7eb; border-radius:12px; font-size:14px;}
      .textarea{width:100%; height:100px; padding:8px 12px; border:1px solid #e5e7eb; border-radius:12px; font-size:14px;}
      .grid{display:grid; gap:12px;}
      .grid-2{grid-template-columns: 1fr 1fr;}
      .grid-3{grid-template-columns: repeat(3, 1fr);}
      .grid-4{grid-template-columns: repeat(4, 1fr);}
      @media (max-width:900px){ .grid-2, .grid-3, .grid-4{grid-template-columns: 1fr;} }
      .footer{margin-top:48px; border-top:1px solid #e5e7eb; background:#ffffffc0;}
      .footer-inner{max-width:1200px; margin:0 auto; padding:16px; display:flex; align-items:center; gap:12px; justify-content:space-between; color:#6b7280; font-size:14px;}
      .kpis{display:grid; gap:12px; grid-template-columns: repeat(3, 1fr);}
      @media (max-width:900px){ .kpis{grid-template-columns: 1fr; } }
    </style>
  </head>
  <body>
    <div id="root"></div>
    <script type="text/babel">
      const { useMemo, useState } = React;
      const currency = (n) => new Intl.NumberFormat("ar-SA", { style: "currency", currency: "SAR" }).format(n);
      const fmt = (n) => new Intl.NumberFormat("ar-SA").format(n);
      const seedCompetitions = [
        { id: "c1", title:"Ø§Ù„ØªÙˆØ¹ÙŠØ© Ø¨Ø§Ù„Ø£Ù…Ù† Ø§Ù„Ø±Ù‚Ù…ÙŠ", type:"ØªÙˆØ¹ÙˆÙŠØ©", ownerType:"gov", ownerName:"ÙˆØ²Ø§Ø±Ø© Ø§Ù„ØªØ¹Ù„ÙŠÙ…", city:"Ø§Ù„Ø±ÙŠØ§Ø¶", prizeSAR:1000, prizeType:"Ø±Ù‚Ù…ÙŠØ©", status:"Ù…ÙØªÙˆØ­Ø©", winnersCount:3, participants:[], createdAt: Date.now()-1000*60*60*24*6 },
        { id: "c2", title:"ØªØ­Ø¯ÙŠ Ø´Ø¹Ø§Ø± Ø§Ù„Ù…Ù†ØªØ¬ Ø§Ù„Ø¬Ø¯ÙŠØ¯", type:"ØªØ³ÙˆÙŠÙ‚ÙŠØ©", ownerType:"sponsor", ownerName:"Ø´Ø±ÙƒØ© ØªÙ…ÙˆÙŠÙ† Ø§Ù„ØºØ°Ø§Ø¡", city:"Ø¬Ø¯Ø©", prizeSAR:5000, prizeType:"Ø¹ÙŠÙ†ÙŠØ©", status:"Ù…ÙØªÙˆØ­Ø©", winnersCount:1, participants:[], createdAt: Date.now()-1000*60*60*24*2 },
        { id: "c3", title:"Ø£Ø³Ø¨ÙˆØ¹ Ø§Ù„Ø¨ÙŠØ¦Ø© â€“ ÙÙƒØ±Ø© Ù…Ø¨ØªÙƒØ±Ø© Ù„ØªÙ‚Ù„ÙŠÙ„ Ø§Ù„Ù‡Ø¯Ø±", type:"ØªÙˆØ¹ÙˆÙŠØ©", ownerType:"gov", ownerName:"ÙˆØ²Ø§Ø±Ø© Ø§Ù„Ø¨ÙŠØ¦Ø©", city:"Ø§Ù„Ø¯Ù…Ø§Ù…", prizeSAR:3000, prizeType:"Ù†Ù‚Ø¯ÙŠØ©", status:"Ù…ØºÙ„Ù‚Ø©", winnersCount:2, participants:[{user:"Ø³Ø§Ø±Ø©", city:"Ø§Ù„Ø±ÙŠØ§Ø¶", answer:"ØªØ·Ø¨ÙŠÙ‚ Ø°ÙƒÙŠ Ù„Ù…Ø´Ø§Ø±ÙƒØ© Ø§Ù„ÙØ§Ø¦Ø¶"},{user:"Ø®Ø§Ù„Ø¯", city:"Ø§Ù„Ø¯Ù…Ø§Ù…", answer:"Ø­Ø§ÙˆÙŠØ§Øª Ø°ÙƒÙŠØ© Ù„Ù„ÙØ±Ø²"}], createdAt: Date.now()-1000*60*60*24*10 }
      ];
      const seedUsers = {
        individual: { name: "ÙÙ‡Ø¯", city: "Ø§Ù„Ø±ÙŠØ§Ø¶", interests: ["Ø§Ù„Ø«Ù‚Ø§ÙØ©","Ø§Ù„ØªÙ‚Ù†ÙŠØ©","Ø§Ù„Ø±ÙŠØ§Ø¶Ø©"] },
        entity: { name: "Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„ÙˆØ¹ÙŠ Ø§Ù„Ø±Ù‚Ù…ÙŠ", org: "ÙˆØ²Ø§Ø±Ø© Ø§Ù„ØªØ¹Ù„ÙŠÙ…" },
        sponsor: { name: "Ù‚Ø³Ù… Ø§Ù„ØªØ³ÙˆÙŠÙ‚", org: "Ø´Ø±ÙƒØ© ØªÙ…ÙˆÙŠÙ† Ø§Ù„ØºØ°Ø§Ø¡", wallet: 25000 },
        admin: { name: "Ù…Ø¯ÙŠØ± Ø§Ù„Ù†Ø¸Ø§Ù…" },
        investor: { name: "Ù…Ø³ØªØ«Ù…Ø± ØªØ¬Ø±ÙŠØ¨ÙŠ" }
      };
      const Pill = ({children}) => <span className="pill">{children}</span>;
      const Card = ({children}) => <div className="card">{children}</div>;
      const Stat = ({label, value, sub}) => (<Card><div style={{fontWeight:"800", fontSize:"22px"}}>{value}</div><div style={{color:"#6b7280", fontSize:"13px"}}>{label}</div>{sub && <div style={{color:"#9ca3af", fontSize:"12px", marginTop:"4px"}}>{sub}</div>}</Card>);
      const SectionTitle = ({children, action}) => (<div style={{display:"flex", alignItems:"center", justifyContent:"space-between", marginBottom:"8px"}}><h3 style={{fontSize:"18px", fontWeight:"700"}}>{children}</h3>{action}</div>);
      function Landing({ kpis, onSelectAccount }){ return (<div className="container"><div className="grid grid-2" style={{alignItems:"center"}}><div><h1 style={{fontSize:"34px", fontWeight:"900", lineHeight:"1.25"}}>Ù…Ø³Ø§Ø¨Ù‚Ø© â€” Ø­ÙˆÙ„ Ø¬Ù…Ù‡ÙˆØ±Ùƒ Ø¥Ù„Ù‰ <span style={{color:"#4f46e5"}}>Ù…ØªÙØ§Ø¹Ù„ÙŠÙ† ÙØ¹Ù„ÙŠÙ‹Ø§</span></h1><p style={{color:"#4b5563", marginTop:"8px"}}>Ù…Ù†ØµØ© ÙˆØ·Ù†ÙŠØ© Ù„Ù„Ù…Ø³Ø§Ø¨Ù‚Ø§Øª Ø§Ù„ØªÙˆØ¹ÙˆÙŠØ© ÙˆØ§Ù„ØªØ³ÙˆÙŠÙ‚ÙŠØ© ØªØ±Ø¨Ø· Ø§Ù„ØªØ­ÙÙŠØ² Ø¨Ø§Ù„Ù‚ÙŠØ§Ø³ Ø§Ù„Ø°ÙƒÙŠ Ù„Ù„Ø£Ø«Ø±.</p><div style={{display:"flex", flexWrap:"wrap", gap:"8px", marginTop:"10px"}}><button className="btn" onClick={()=>onSelectAccount("individual")}>Ø§Ø¨Ø¯Ø£ Ø§Ù„ØªØ­Ø¯ÙŠ (ÙØ±Ø¯)</button><button className="btn-outline" onClick={()=>onSelectAccount("entity")}>Ù„Ù„Ø¬Ù‡Ø§Øª Ø§Ù„Ø­ÙƒÙˆÙ…ÙŠØ©/ØºÙŠØ± Ø§Ù„Ø±Ø¨Ø­ÙŠØ©</button><button className="btn-outline" onClick={()=>onSelectAccount("sponsor")}>Ù„Ù„Ø±Ø¹Ø§Ø© ÙˆØ§Ù„Ø´Ø±ÙƒØ§Øª</button><button className="btn-ghost" onClick={()=>onSelectAccount("investor")}>Ù„ÙˆØ­Ø© Ø§Ù„Ù…Ø³ØªØ«Ù…Ø±</button></div><div style={{display:"flex", gap:"8px", marginTop:"10px"}}><span class="pill">RTL</span><span class="pill">ØªÙ‚Ø§Ø±ÙŠØ± ØªÙØ§Ø¹Ù„ÙŠØ©</span><span class="pill">Ù…Ø­ÙØ¸Ø© Ø±Ù‚Ù…ÙŠØ©</span><span class="pill">Ø¬ÙˆØ§Ø¦Ø² Ù†Ù‚Ø¯ÙŠØ©/Ø±Ù‚Ù…ÙŠØ©/Ø¹ÙŠÙ†ÙŠØ©</span></div></div><div className="card"><div className="kpis"><div className="card"><div style="font-weight:800;font-size:22px;">{kpis.active.toLocaleString("ar-SA")}</div><div style="color:#6b7280;font-size:13px;">Ø§Ù„Ù…Ø³Ø§Ø¨Ù‚Ø§Øª Ø§Ù„Ù†Ø´Ø·Ø©</div></div><div className="card"><div style="font-weight:800;font-size:22px;">{kpis.participations.toLocaleString("ar-SA")}</div><div style="color:#6b7280;font-size:13px;">Ù…Ø´Ø§Ø±ÙƒØ§Øª</div></div><div className="card"><div style="font-weight:800;font-size:22px;">{kpis.prizes.toLocaleString("ar-SA")}</div><div style="color:#6b7280;font-size:13px;">Ø¬ÙˆØ§Ø¦Ø² Ù…ÙØ³Ù„Ù‘ÙÙ…Ø©</div></div><div className="card"><div style="font-weight:800;font-size:22px;">{kpis.sponsors.toLocaleString("ar-SA")}</div><div style="color:#6b7280;font-size:13px;">Ø±Ø¹Ø§Ø© Ù†Ø´Ø·ÙˆÙ†</div></div><div className="card"><div style="font-weight:800;font-size:22px;">{new Intl.NumberFormat("ar-SA", { style: "currency", currency: "SAR" }).format(kpis.prizeValue)}</div><div style="color:#6b7280;font-size:13px;">Ù‚ÙŠÙ…Ø© Ø§Ù„Ø¬ÙˆØ§Ø¦Ø²</div></div><div className="card"><div style="font-weight:800;font-size:22px;">{kpis.users.toLocaleString("ar-SA")}</div><div style="color:#6b7280;font-size:13px;">Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙˆÙ†</div></div></div></div></div><div><div className="card" style={{margin:"12px 0", display:"grid", gap:"12px", gridTemplateColumns:"repeat(4,1fr)"}}><div className="card" style={{textAlign:"center"}}>ÙˆØ²Ø§Ø±Ø© Ø§Ù„Ø¨ÙŠØ¦Ø© (ØªØ¬Ø±ÙŠØ¨ÙŠ)</div><div className="card" style={{textAlign:"center"}}>ÙˆØ²Ø§Ø±Ø© Ø§Ù„ØªØ¹Ù„ÙŠÙ… (ØªØ¬Ø±ÙŠØ¨ÙŠ)</div><div className="card" style={{textAlign:"center"}}>Ø´Ø±ÙƒØ© ØªÙ…ÙˆÙŠÙ† Ø§Ù„ØºØ°Ø§Ø¡</div><div className="card" style={{textAlign:"center"}}>Ø¬Ø§Ù…Ø¹Ø© Ø­Ø§Ø¦Ù„</div></div></div></div>); }
      function Individual({ user, competitions, onParticipate }){ const [filter, setFilter] = useState(""); const list = useMemo(()=> competitions.filter(c=> c.status!=="Ù…ØºÙ„Ù‚Ø©" && (filter? c.city===filter : true)), [competitions, filter]); const [answer, setAnswer] = useState(""); return (<div className="container"><h2 style={{fontSize:"22px", fontWeight:"800", marginBottom:"10px"}}>Ù…Ø±Ø­Ø¨Ù‹Ø§ {user.name} ğŸ‘‹</h2><div style={{display:"flex", gap:"8px", flexWrap:"wrap", marginBottom:"12px"}}><span class="pill">Ø§Ù„Ù…Ø¯ÙŠÙ†Ø©: {user.city}</span><span class="pill">Ø§Ù‡ØªÙ…Ø§Ù…Ø§Øª: {user.interests.join("ØŒ ")}</span><select className="input" value={filter} onChange={(e)=>setFilter(e.target.value)}><option value="">ÙƒÙ„ Ø§Ù„Ù…Ø¯Ù†</option><option>Ø§Ù„Ø±ÙŠØ§Ø¶</option><option>Ø¬Ø¯Ø©</option><option>Ø§Ù„Ø¯Ù…Ø§Ù…</option></select></div><div className="grid grid-2">{list.map(c => (<div className="card" key={c.id}><div style={{display:"flex", alignItems:"center", justifyContent:"space-between"}}><div style={{fontWeight:"700"}}>{c.title}</div><span class="pill">{c.type}</span></div><div style={{fontSize:"13px", color:"#6b7280", marginTop:"4px"}}>{c.ownerName} â€¢ {c.city}</div><div style={{fontSize:"14px", marginTop:"8px"}}>Ø§Ù„Ø¬Ø§Ø¦Ø²Ø©: {currency(c.prizeSAR)} ({c.prizeType}) â€¢ Ø¹Ø¯Ø¯ Ø§Ù„ÙØ§Ø¦Ø²ÙŠÙ†: {c.winnersCount}</div><textarea className="textarea" placeholder="Ø§ÙƒØªØ¨ Ø¥Ø¬Ø§Ø¨ØªÙƒ/Ù…Ø´Ø§Ø±ÙƒØªÙƒ Ø¨Ø¥ÙŠØ¬Ø§Ø²" value={answer} onChange={(e)=>setAnswer(e.target.value)}></textarea><div style={{display:"flex", gap:"8px", marginTop:"8px"}}><button className="btn" onClick={()=>{ if(!answer){alert("ÙØ¶Ù„Ø§Ù‹ Ø§ÙƒØªØ¨ Ù…Ø´Ø§Ø±ÙƒØªÙƒ Ù‚Ø¨Ù„ Ø§Ù„Ø¥Ø±Ø³Ø§Ù„"); return;} onParticipate(c.id, user.name, user.city, answer); setAnswer("");}}>Ø£Ø´Ø§Ø±Ùƒ Ø§Ù„Ø¢Ù†</button><button className="btn-ghost">Ù…Ø´Ø§Ø±ÙƒØ© Ø§Ù„Ù…Ø³Ø§Ø¨Ù‚Ø©</button></div></div>))}</div></div>); }
      function Entity({ entityName, onCreate }){ const [form, setForm] = useState({ title:"", type:"ØªÙˆØ¹ÙˆÙŠØ©", city:"Ø§Ù„Ø±ÙŠØ§Ø¶", prizeSAR:1000, prizeType:"Ø±Ù‚Ù…ÙŠØ©", winnersCount:1 }); return (<div className="container"><h2 style={{fontSize:"22px", fontWeight:"800", marginBottom:"10px"}}>Ù„ÙˆØ­Ø© Ø§Ù„Ø¬Ù‡Ø©: {entityName}</h2><div className="card"><div style={{display:"flex", alignItems:"center", justifyContent:"space-between", marginBottom:"8px"}}><h3 style={{fontSize:"18px", fontWeight:"700"}}>Ø¥Ù†Ø´Ø§Ø¡ Ù…Ø³Ø§Ø¨Ù‚Ø© ØªÙˆØ¹ÙˆÙŠØ©</h3></div><div className="grid grid-2"><input className="input" placeholder="Ø¹Ù†ÙˆØ§Ù† Ø§Ù„Ù…Ø³Ø§Ø¨Ù‚Ø©" value={form.title} onChange={(e)=>setForm({...form, title:e.target.value})} /><select className="input" value={form.type} onChange={(e)=>setForm({...form, type:e.target.value})}><option>ØªÙˆØ¹ÙˆÙŠØ©</option><option>Ø«Ù‚Ø§ÙÙŠØ©</option><option>ØªØ³ÙˆÙŠÙ‚ÙŠØ©</option></select><select className="input" value={form.city} onChange={(e)=>setForm({...form, city:e.target.value})}><option>Ø§Ù„Ø±ÙŠØ§Ø¶</option><option>Ø¬Ø¯Ø©</option><option>Ø§Ù„Ø¯Ù…Ø§Ù…</option></select><input className="input" type="number" min="1" placeholder="Ø¹Ø¯Ø¯ Ø§Ù„ÙØ§Ø¦Ø²ÙŠÙ†" value={form.winnersCount} onChange={(e)=>setForm({...form, winnersCount: Number(e.target.value)})} /><input className="input" type="number" min="0" placeholder="Ù‚ÙŠÙ…Ø© Ø§Ù„Ø¬Ø§Ø¦Ø²Ø© (Ø±ÙŠØ§Ù„)" value={form.prizeSAR} onChange={(e)=>setForm({...form, prizeSAR: Number(e.target.value)})} /><select className="input" value={form.prizeType} onChange={(e)=>setForm({...form, prizeType:e.target.value})}><option>Ø±Ù‚Ù…ÙŠØ©</option><option>Ù†Ù‚Ø¯ÙŠØ©</option><option>Ø¹ÙŠÙ†ÙŠØ©</option></select></div><div style={{display:"flex", gap:"8px", marginTop:"8px"}}><button className="btn" onClick={()=> onCreate(form)}>Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ù…Ø³Ø§Ø¨Ù‚Ø©</button><button className="btn-ghost">Ø­ÙØ¸ Ù…Ø³ÙˆØ¯Ø©</button></div></div></div>); }
      function Sponsor({ sponsor, onCreate, onFund, competitions }){ const [form, setForm] = useState({ title:"Ø­Ù…Ù„Ø© ØªØ±ÙˆÙŠØ¬ÙŠØ© Ø¬Ø¯ÙŠØ¯Ø©", type:"ØªØ³ÙˆÙŠÙ‚ÙŠØ©", city:"Ø§Ù„Ø±ÙŠØ§Ø¶", prizeSAR:2000, prizeType:"Ø±Ù‚Ù…ÙŠØ©", winnersCount:1 }); const open = competitions.filter(c=> c.status === "Ù…ÙØªÙˆØ­Ø©"); const [fundAmount, setFundAmount] = useState(1000); return (<div className="container"><h2 style={{fontSize:"22px", fontWeight:"800", marginBottom:"10px"}}>Ù„ÙˆØ­Ø© Ø§Ù„Ø±Ø§Ø¹ÙŠ: {sponsor.org}</h2><div className="grid grid-3"><div className="card"><div style="font-weight:800;font-size:22px;">{new Intl.NumberFormat("ar-SA", { style: "currency", currency: "SAR" }).format(sponsor.wallet)}</div><div style="color:#6b7280;font-size:13px;">Ø±ØµÙŠØ¯ Ø§Ù„Ù…Ø­ÙØ¸Ø©</div><div style="color:#9ca3af;font-size:12px;margin-top:4px;">ÙŠÙ…ÙƒÙ† Ø§Ù„Ø¥ÙŠØ¯Ø§Ø¹ Ù„Ø§Ø­Ù‚Ù‹Ø§</div></div><div className="card"><div style="font-weight:800;font-size:22px;">{open.length}</div><div style="color:#6b7280;font-size:13px;">Ø­Ù…Ù„Ø§Øª Ù…ÙØªÙˆØ­Ø© Ù„Ù„Ø±Ø¹Ø§ÙŠØ©</div></div><div className="card"><div style="font-weight:800;font-size:22px;">{new Intl.NumberFormat("ar-SA", { style: "currency", currency: "SAR" }).format(Math.round(open.reduce((a,c)=>a+c.prizeSAR,0)/(open.length||1)))}</div><div style="color:#6b7280;font-size:13px;">Ù…ØªÙˆØ³Ø· Ù‚ÙŠÙ…Ø© Ø§Ù„Ø¬ÙˆØ§Ø¦Ø²</div></div></div><div className="grid grid-2" style={{marginTop:"12px"}}><div className="card"><div style={{display:"flex", alignItems:"center", justifyContent:"space-between", marginBottom:"8px"}}><h3 style={{fontSize:"18px", fontWeight:"700"}}>Ø¥Ù†Ø´Ø§Ø¡ Ù…Ø³Ø§Ø¨Ù‚Ø© ØªØ³ÙˆÙŠÙ‚ÙŠØ©</h3></div><div className="grid grid-2"><input className="input" style={{gridColumn:"1 / -1"}} value={form.title} onChange={(e)=>setForm({...form, title:e.target.value})} /><select className="input" value={form.type} onChange={(e)=>setForm({...form, type:e.target.value})}><option>ØªØ³ÙˆÙŠÙ‚ÙŠØ©</option><option>Ø«Ù‚Ø§ÙÙŠØ©</option></select><select className="input" value={form.city} onChange={(e)=>setForm({...form, city:e.target.value})}><option>Ø§Ù„Ø±ÙŠØ§Ø¶</option><option>Ø¬Ø¯Ø©</option><option>Ø§Ù„Ø¯Ù…Ø§Ù…</option></select><input className="input" type="number" value={form.winnersCount} onChange={(e)=>setForm({...form, winnersCount: Number(e.target.value)})} /><input className="input" type="number" value={form.prizeSAR} onChange={(e)=>setForm({...form, prizeSAR: Number(e.target.value)})} /><select className="input" value={form.prizeType} onChange={(e)=>setForm({...form, prizeType:e.target.value})}><option>Ø±Ù‚Ù…ÙŠØ©</option><option>Ù†Ù‚Ø¯ÙŠØ©</option><option>Ø¹ÙŠÙ†ÙŠØ©</option></select></div><div style={{marginTop:"8px"}}><button className="btn" onClick={()=> onCreate(form, sponsor.org)}>Ø¥Ù†Ø´Ø§Ø¡</button></div></div><div className="card"><div style={{display:"flex", alignItems:"center", justifyContent:"space-between", marginBottom:"8px"}}><h3 style={{fontSize:"18px", fontWeight:"700"}}>Ø±Ø¹Ø§ÙŠØ© Ù…Ø³Ø§Ø¨Ù‚Ø© Ù‚Ø§Ø¦Ù…Ø©</h3></div><div style={{display:"grid", gap:"8px"}}>{open.map(c => (<div key={c.id} style={{display:"flex", alignItems:"center", justifyContent:"space-between", border:"1px solid #e5e7eb", borderRadius:"12px", padding:"12px"}}><div><div style={{fontWeight:"700"}}>{c.title}</div><div style={{fontSize:"12px", color:"#6b7280"}}>{c.ownerName} â€¢ {c.city}</div></div><div style={{display:"flex", gap:"8px", alignItems:"center"}}><input className="input" style={{width:"110px"}} type="number" min="100" value={fundAmount} onChange={(e)=>setFundAmount(Number(e.target.value))} /><button className="btn" onClick={()=> onFund(c.id, fundAmount)}>ØªÙ…ÙˆÙŠÙ„</button></div></div>))}</div></div></div></div>); }
      function Admin({ competitions, onApprove, onClose, onPickWinners }){ return (<div className="container"><h2 style={{fontSize:"22px", fontWeight:"800", marginBottom:"10px"}}>Ù„ÙˆØ­Ø© Ø§Ù„Ø¥Ø¯Ø§Ø±Ø©</h2><div className="grid grid-2">{competitions.map(c => (<div className="card" key={c.id}><div style={{display:"flex", alignItems:"center", justifyContent:"space-between"}}><div style={{fontWeight:"700"}}>{c.title}</div><span class="pill">{c.status}</span></div><div style={{fontSize:"13px", color:"#6b7280", marginTop:"4px"}}>{c.ownerName} â€¢ {c.type} â€¢ {c.city}</div><div style={{fontSize:"14px", marginTop:"8px"}}>Ù…Ø´Ø§Ø±ÙƒÙˆÙ†: {c.participants.length} â€¢ Ø§Ù„Ø¬Ø§Ø¦Ø²Ø©: {currency(c.prizeSAR)} â€¢ ÙØ§Ø¦Ø²ÙˆÙ†: {c.winnersCount}</div><div style={{display:"flex", gap:"8px", marginTop:"8px"}}>{c.status === "Ù…Ø³ÙˆØ¯Ø©" && <button className="btn" onClick={()=> onApprove(c.id)}>Ø§Ø¹ØªÙ…Ø§Ø¯</button>}{c.status !== "Ù…ØºÙ„Ù‚Ø©" && <button className="btn-outline" onClick={()=> onClose(c.id)}>Ø¥ØºÙ„Ø§Ù‚</button>}<button className="btn-ghost" onClick={()=> onPickWinners(c.id)}>ÙØ±Ø² Ø§Ù„ÙØ§Ø¦Ø²ÙŠÙ†</button></div></div>))}</div></div>); }
      function Investor({ competitions, totalUsers, revenue, sponsorsCount }){ const totalPrizes = competitions.reduce((a,c)=> a + c.prizeSAR, 0); const active = competitions.filter(c=> c.status!=="Ù…ØºÙ„Ù‚Ø©"); const monthlyGrowth = 12; const ar = (n)=> `${n}%`; return (<div className="container"><h2 style={{fontSize:"22px", fontWeight:"800", marginBottom:"10px"}}>Ù„ÙˆØ­Ø© Ø§Ù„Ù…Ø³ØªØ«Ù…Ø±</h2><div className="grid grid-3"><div className="card"><div style="font-weight:800;font-size:22px;">{totalUsers.toLocaleString("ar-SA")}</div><div style="color:#6b7280;font-size:13px;">Ù…Ø³ØªØ®Ø¯Ù…ÙˆÙ†</div><div style="color:#9ca3af;font-size:12px;margin-top:4px;">Ù†Ù…Ùˆ Ø´Ù‡Ø±ÙŠ {ar(monthlyGrowth)}</div></div><div className="card"><div style="font-weight:800;font-size:22px;">{new Intl.NumberFormat("ar-SA", { style: "currency", currency: "SAR" }).format(revenue)}</div><div style="color:#6b7280;font-size:13px;">Ø¥ÙŠØ±Ø§Ø¯Ø§Øª Ø´Ù‡Ø±ÙŠØ©</div><div style="color:#9ca3af;font-size:12px;margin-top:4px;">ØªØ±Ø§ÙƒÙ…ÙŠ ØªØ¬Ø±ÙŠØ¨ÙŠ</div></div><div className="card"><div style="font-weight:800;font-size:22px;">{sponsorsCount.toLocaleString("ar-SA")}</div><div style="color:#6b7280;font-size:13px;">Ø±Ø¹Ø§Ø© Ù†Ø´Ø·ÙˆÙ†</div></div></div><div className="card" style={{marginTop:"12px"}}><div style={{display:"flex", alignItems:"center", justifyContent:"space-between", marginBottom:"8px"}}><h3 style={{fontSize:"18px", fontWeight:"700"}}>Ù†Ø¸Ø±Ø© Ø¹Ø§Ù…Ø©</h3></div><div className="grid grid-2"><div className="card"><div style="font-weight:800;font-size:22px;">{active.length}</div><div style="color:#6b7280;font-size:13px;">Ù…Ø³Ø§Ø¨Ù‚Ø§Øª Ù†Ø´Ø·Ø©</div></div><div className="card"><div style="font-weight:800;font-size:22px;">{new Intl.NumberFormat("ar-SA", { style: "currency", currency: "SAR" }).format(totalPrizes)}</div><div style="color:#6b7280;font-size:13px;">Ù‚ÙŠÙ…Ø© Ø§Ù„Ø¬ÙˆØ§Ø¦Ø² Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠØ©</div></div></div><div style={{fontSize:"13px", color:"#6b7280", marginTop:"8px"}}>* Ù‡Ø°Ù‡ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ù…Ø­Ø§ÙƒØ§Ø© Ù„ØºØ±Ø¶ Ø§Ù„Ø¹Ø±Ø¶ ÙÙ‚Ø· â€” ÙŠÙ…ÙƒÙ† Ø±Ø¨Ø·Ù‡Ø§ Ø¨Ù…ØµØ¯Ø± Ø¨ÙŠØ§Ù†Ø§Øª Ø­Ù‚ÙŠÙ‚ÙŠ Ù„Ø§Ø­Ù‚Ù‹Ø§.</div></div></div>); }
      function App(){
        const [route, setRoute] = useState("landing");
        const [competitions, setCompetitions] = useState(seedCompetitions);
        const [users, setUsers] = useState(seedUsers);
        const kpis = useMemo(()=> ({ active: competitions.filter(c=>c.status!=="Ù…ØºÙ„Ù‚Ø©").length, participations: competitions.reduce((a,c)=> a + c.participants.length, 0), prizes: competitions.filter(c=>c.status==="Ù…ØºÙ„Ù‚Ø©").reduce((a,c)=> a + c.winnersCount, 0), sponsors: 7, prizeValue: competitions.reduce((a,c)=> a + c.prizeSAR, 0), users: 58000 }), [competitions]);
        const participate = (cid, user, city, answer) => { if(!answer){ alert("ÙØ¶Ù„Ø§Ù‹ Ø§ÙƒØªØ¨ Ù…Ø´Ø§Ø±ÙƒØªÙƒ Ù‚Ø¨Ù„ Ø§Ù„Ø¥Ø±Ø³Ø§Ù„"); return; } setCompetitions(prev => prev.map(c => c.id===cid ? { ...c, participants:[...c.participants, { user, city, answer }] } : c)); alert("ØªÙ… Ø¥Ø±Ø³Ø§Ù„ Ù…Ø´Ø§Ø±ÙƒØªÙƒ Ø¨Ù†Ø¬Ø§Ø­ âœ…"); };
        const createByEntity = (form) => { const id = `c${Date.now()}`; const entry = { id, title: form.title || "Ù…Ø³Ø§Ø¨Ù‚Ø© Ø¨Ø¯ÙˆÙ† Ø¹Ù†ÙˆØ§Ù†", type: form.type, ownerType:"gov", ownerName: users.entity.org, city: form.city, prizeSAR: form.prizeSAR, prizeType: form.prizeType, status:"Ù…ÙØªÙˆØ­Ø©", winnersCount: form.winnersCount, participants:[], createdAt: Date.now() }; setCompetitions(prev => [entry, ...prev]); alert("ØªÙ… Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ù…Ø³Ø§Ø¨Ù‚Ø© ÙˆÙ†Ø´Ø±Ù‡Ø§ âœ…"); };
        const sponsorCreate = (form, org) => { const id = `c${Date.now()}`; const entry = { id, title: form.title, type: form.type, ownerType:"sponsor", ownerName: org, city: form.city, prizeSAR: form.prizeSAR, prizeType: form.prizeType, status:"Ù…ÙØªÙˆØ­Ø©", winnersCount: form.winnersCount, participants:[], createdAt: Date.now() }; setCompetitions(prev => [entry, ...prev]); alert("ØªÙ… Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ù…Ø³Ø§Ø¨Ù‚Ø© Ø§Ù„ØªØ³ÙˆÙŠÙ‚ÙŠØ© âœ…"); };
        const sponsorFund = (cid, amount) => { if (amount <= 0) return; setUsers(u => ({...u, sponsor:{...u.sponsor, wallet: Math.max(0, u.sponsor.wallet - amount)}})); setCompetitions(prev => prev.map(c => c.id===cid ? { ...c, prizeSAR: c.prizeSAR + amount } : c)); alert("ØªÙ… Ø§Ù„ØªÙ…ÙˆÙŠÙ„ ÙˆØ¥Ø¶Ø§ÙØ© Ø§Ù„Ù‚ÙŠÙ…Ø© Ø¥Ù„Ù‰ Ø§Ù„Ø¬Ø§Ø¦Ø²Ø© âœ…"); };
        const approve = (cid) => setCompetitions(prev => prev.map(c => c.id===cid ? { ...c, status:"Ù…ÙØªÙˆØ­Ø©" } : c));
        const closeComp = (cid) => setCompetitions(prev => prev.map(c => c.id===cid ? { ...c, status:"Ù…ØºÙ„Ù‚Ø©" } : c));
        const pickWinners = (cid) => { setCompetitions(prev => prev.map(c => { if(c.id!==cid) return c; const shuffled = [...c.participants].sort(()=> Math.random()-0.5); const winners = shuffled.slice(0, c.winnersCount); alert(`ØªÙ… Ø§Ø®ØªÙŠØ§Ø± ${winners.length} ÙØ§Ø¦Ø²/Ø©:\n` + winners.map(w=>`â€¢ ${w.user} (${w.city})`).join("\n")); return c; })); };
        return (<div><div className="nav"><div className="nav-inner"><div className="brand"><span className="brand-badge"></span><span>Ù…Ø³Ø§Ø¨Ù‚Ø©</span></div><div><button className={"tab " + (route==="landing"?"tab-active":"")} onClick={()=>setRoute("landing")}>Ø§Ù„ÙˆØ§Ø¬Ù‡Ø©</button><button className={"tab " + (route==="individual"?"tab-active":"")} onClick={()=>setRoute("individual")}>ÙØ±Ø¯</button><button className={"tab " + (route==="entity"?"tab-active":"")} onClick={()=>setRoute("entity")}>Ø¬Ù‡Ø©</button><button className={"tab " + (route==="sponsor"?"tab-active":"")} onClick={()=>setRoute("sponsor")}>Ø±Ø§Ø¹Ù</button><button className={"tab " + (route==="admin"?"tab-active":"")} onClick={()=>setRoute("admin")}>Ø§Ù„Ø¥Ø¯Ø§Ø±Ø©</button><button className={"tab " + (route==="investor"?"tab-active":"")} onClick={()=>setRoute("investor")}>Ø§Ù„Ù…Ø³ØªØ«Ù…Ø±</button></div><div><button className="btn">Ø§Ø¨Ø¯Ø£ Ø§Ù„ØªØ­Ø¯ÙŠ</button></div></div></div>{route==="landing" && <Landing kpis={kpis} onSelectAccount={setRoute} />}{route==="individual" && <Individual user={users.individual} competitions={competitions} onParticipate={participate} />}{route==="entity" && <Entity entityName={`${users.entity.org} â€“ ${users.entity.name}`} onCreate={createByEntity} />}{route==="sponsor" && <Sponsor sponsor={users.sponsor} competitions={competitions} onCreate={sponsorCreate} onFund={sponsorFund} />}{route==="admin" && <Admin competitions={competitions} onApprove={approve} onClose={closeComp} onPickWinners={pickWinners} />}{route==="investor" && <Investor competitions={competitions} totalUsers={kpis.users} revenue={185000} sponsorsCount={kpis.sponsors} />}<div className="footer"><div className="footer-inner"><div>Â© 2025 Musabaqa â€” Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ù‚ÙˆÙ‚ Ù…Ø­ÙÙˆØ¸Ø©</div><div style="display:flex; gap:16px"><a href="#" class="link">Ø§Ù„Ø®ØµÙˆØµÙŠØ©</a><a href="#" class="link">Ø§Ù„Ø´Ø±ÙˆØ·</a><a href="#" class="link">Ø§Ù„Ø¯Ø¹Ù…</a></div></div></div></div>);
      }
      const root = ReactDOM.createRoot(document.getElementById("root"));
      root.render(<App/>);
    </script>
  </body>
</html>
